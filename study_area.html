<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <meta name="description" content="Impara i verbi irregolari inglesi con giochi interattivi. Studio, allenamento e test per migliorare il tuo inglese divertendoti. Prova gratis!">

    <meta name="keywords" content="verbi irregolari inglesi, esercizi verbi irregolari inglese traduzione, irregular verbs tabella">
    <meta name="author" content="Learning With Me Team">
    <meta name="robots" content="index, follow">
    <meta property="og:url" content="https://learnwithme.work/study_area.html">
    <meta property="og:title" content="Learning Games - Impara i Verbi Irregolari Inglesi">

    <link rel="canonical" href="https://learnwithme.work/study_area.html">

    <title>Study Area</title>
    <style>
        /* Reset e variabili CSS */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary-color: #ffffff;
            --primary-hover: #1d4ed8;
            --secondary-color: #64748b;
            --success-color: #10b981;
            --error-color: #ef4444;
            --warning-color: #f59e0b;
            --background: #f8fafc;
            --surface: #ffffff;
            --surface-hover: #f1f5f9;   
            --text-primary: #0f172a;
            --text-secondary: #475569;
            --border-color: #e2e8f0;
            --shadow: 0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1);
            --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
            --radius: 8px;
            --radius-lg: 12px;
            --gradient-primary: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            --gradient-hero: linear-gradient(135deg, #f89407 0%, #f1b35c 30%, #F3AD48 70%, #f89407 100%);
            --nav-bg: #ffffff;
            --nav-text: #1a365d;
            --nav-hover-bg: #f1f5f9;
            --nav-border: #e2e8f0;
            --text-primary-header: #0f172a;
            --text-secondary-header: #475569;
            --cards-bg: #f8fafc;
            --card-bg: #ffffff;
            --card-text: #0f172a;
            --card-text-secondary: #475569;
            --footer-bg: transparent;
            --footer-text: #475569;
        }

        /* Dark theme variables */
        [data-theme="dark"] {
            --nav-bg: #1e293b;
            --nav-text: #ffffff;
            --nav-hover-bg: #334155;
            --nav-border: #334155;
            
            --cards-bg: #0f172a;
            --card-bg: #1e293b;
            --card-text: #ffffff;
            --card-text-secondary: #cbd5e1;
            --footer-bg: #0f172a;
            --footer-text: #ffffff;
            
            /* Override delle variabili esistenti per dark mode */
            --background: #0f172a;
            --surface: #1e293b;
            --surface-hover: #334155;   
            --text-primary: #ffffff;
            --text-secondary: #cbd5e1;
            --border-color: #334155;
        }


        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
            background: var(--background);
            color: var(--text-primary);
            line-height: 1.6;
            min-height: 100vh;
            padding-bottom: 80px;
            transition: background-color 0.3s ease, color 0.3s ease;
        }

        /* Navigation */
        nav {
            background: var(--nav-bg);
            border-bottom: 1px solid var(--border-color);
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: var(--shadow);
            transition: background-color 0.3s ease, border-color 0.3s ease;
        }

        .nav-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 16px;
        }

        .nav-links {
            display: flex;
            justify-content: space-around;
            align-items: center;
            padding: 12px 0;
        }

        .nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-decoration: none;
            color: var(--nav-text);
            transition: all 0.3s ease;
            padding: 8px 12px;
            border-radius: var(--radius);
            min-width: 60px;
        }

        .nav-item:hover {
            color: var(--primary-color);
            background: var(--nav-hover-bg);
        }

        .nav-item img {
            width: 24px;
            height: 24px;
            margin-bottom: 4px;
        }

        .nav-item span {
            font-size: 12px;
            font-weight: 500;
        }


        /* Container principale */
        .main-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px 16px;
            background-color: var(--surface);
            transition: background-color 0.3s ease;
        }

        /* Study Section */

        .study-header {
            background: var(--gradient-hero);
            border-radius: var(--radius-lg);
            box-shadow: var(--shadow-lg);
            padding: 24px;
            margin-bottom: 20px;
            text-align: center;
            z-index: 1;
            position: relative;
        }

        .study-header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1000 1000"><defs><radialGradient id="a" cx="0.5" cy="0.5" r="0.8"><stop offset="0%" stop-color="rgba(255,255,255,0.35)"/><stop offset="100%" stop-color="rgba(255,255,255,0)"/></radialGradient></defs><circle cx="220" cy="220" r="200" fill="url(%23a)"/><circle cx="800" cy="300" r="150" fill="url(%23a)"/><circle cx="600" cy="700" r="250" fill="url(%23a)"/><circle cx="400" cy="500" r="120" fill="url(%23a)"/><circle cx="900" cy="800" r="100" fill="url(%23a)"/></svg>') no-repeat center center;
            background-size: cover;
            opacity: 0.5;
            pointer-events: none;
            z-index: 0;
        }

        .study-title {
            font-size: 3.5rem;
            font-weight: 800;
            margin-bottom: 1.5rem;
            background: linear-gradient(135deg, #ffffff 0%, #f5f7f9 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            line-height: 1.2;
            text-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
        }

        .study-subtitle {
            font-size: 16px;
            color: var(--text-secondary-header);
            margin-bottom: 24px;
        }

        .study-instructions {
            font-size: 14px;
            color: var(--text-secondary-header);
            background: rgb(37 99 235 / 0.1);
            padding: 12px;
            border-radius: var(--radius);
            margin-bottom: 16px;
        }

        /* Level Options */
        .level-options {
            display: flex;
            flex-direction: column;
            gap: 12px;
            margin-bottom: 20px;
        }

        .level-option {
            display: flex;
            align-items: center;
            padding: 12px 16px;
            border: 2px solid var(--border-color);
            border-radius: var(--radius);
            cursor: pointer;
            transition: all 0.2s ease;
            background: rgb(37 99 235 / 0.1);
        }

        .level-option:hover {
            background: var(--surface-hover);
            border-color: var(--primary-color);
        }

        .level-option input[type="radio"] {
            margin-right: 12px;
            accent-color: #F3AD48; 
        }

        .level-option.selected {
            border-color: var(--primary-color);
            background: var(--surface);
        }

        .study-container {
            background: var(--surface);
            border-radius: var(--radius-lg);
            box-shadow: var(--shadow);
            overflow: hidden;
            margin-top: 20px;
            z-index: 1;
            position: relative;
            transition: background-color 0.3s ease;
        }
        .study-table {
            width: 100%;
            border-collapse: collapse;
        }

        .study-table th {
            background: #F3AD48;
            color: white;
            padding: 16px 12px;
            font-weight: 800;
            font-size: 16px;
            text-align: center;
            border: none;
        }

        .study-table td {
            padding: 12px;
            border-bottom: 1px solid var(--border-color);
            text-align: center;
            vertical-align: middle;
            color: var(--text-primary);
            transition: color 0.3s ease, border-color 0.3s ease;
        }

        .study-table tr:last-child td {
            border-bottom: none;
        }

        .study-table tr.even {
            background: var(--surface-hover);
            transition: background-color 0.3s ease;
        }

        .study-table tr.odd {
            background: var(--surface);
            transition: background-color 0.3s ease;
        }

        /* Footer con supporto tema */
        footer {
            background: var(--footer-bg);
            color: var(--footer-text);
            transition: background-color 0.3s ease, color 0.3s ease;
        }

        footer a {
            color: var(--footer-text);
            transition: color 0.3s ease;
        }

        /* Theme Toggle Button */
        .theme-toggle {
            position: absolute;
            right: 8px;
            top: 50%;
            transform: translateY(-50%);
            background: var(--nav-hover-bg);
            border: 1px solid var(--nav-border);
            border-radius: var(--radius);
            width: 36px;
            height: 36px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            color: var(--nav-text);
            font-size: 16px;
            z-index: 10;
        }

        .theme-toggle:hover {
            transform: translateY(-50%) scale(1.05);
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
        }

        .theme-toggle:active {
            transform: translateY(-50%) scale(0.95);
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .main-container {
                padding: 8px 6px;
            }

            .study-header {
                margin-bottom: 0px;
                padding: 6px;
            }

            .study-container {
                margin-bottom: 0px;
                padding: 6px;
                margin-top: 6px;
            }

            .study-title{
                font-size: 2.25rem;
                margin: 0 0 12px;
            }

            .study-subtitle {
                font-size: 12px;
                margin-bottom: 6px;
            }

            .study-instructions {
            font-size: 14px;
            color: var(--text-secondary);
            background: rgb(37 99 235 / 0.1);
            padding: 12px;
            border-radius: var(--radius);
            margin-bottom: 16px;
            }

            .menu-icon {
                display: block;
            }

            .nav-item span {
                font-size: 11px;
            }
            
            .nav-links {
                padding-right: 50px;
                padding: 0 0;
            }
        
            .level-options {
                gap: 8px;
                margin-bottom: 4px;
            }

            .level-option {
                padding: 8px 12px;
                font-size: 14px;
            }

            .study-table th,
            .study-table td {
                padding: 8px 4px;
                font-size: 14px;
            }

            .study-table th {
                font-size: 12px;
            }

            .theme-toggle {
            width: 32px;
            height: 32px;
            right: 8px;
            font-size: 14px;
            }

        }

        @media (max-width: 480px) {
            .study-table {
                font-size: 12px;
            }

            .study-table th {
                padding: 12px 2px;
                font-size: 11px;
            }

            .study-table td {
                padding: 8px 2px;
            }

            .study-instructions {
            font-size: 14px;
            color: var(--text-secondary);
            background: rgb(37 99 235 / 0.1);
            padding: 12px;
            border-radius: var(--radius);
            margin-bottom: 16px;
            }

            .nav-links {
            padding-right: 45px;
            }
            
            .theme-toggle {
                width: 28px;
                height: 28px;
                right: 6px;
                font-size: 12px;
            }
        }

        /* Utilities */
        .hidden {
            display: none !important;
        }

        .text-center {
            text-align: center;
        }

        .fade-in {
            animation: fadeIn 0.3s ease-in;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>
<body>
    <nav>
        <div class="nav-container">
            <div class="nav-links">
                <a href="index.html" class="nav-item">
                    <img src="images/home.png" alt="Home">
                    <span>Home</span>
                </a>
                <a href="study_area.html" class="nav-item">
                    <img src="images/learn.png" alt="Learn">
                    <span>Learn</span>
                </a>
                <a href="train.html" class="nav-item">
                    <img src="images/train.png" alt="Train">
                    <span>Train</span>
                </a>
                <a href="test.html" class="nav-item">
                    <img src="images/test.png" alt="Test">
                    <span>Test</span>
                </a>
                <a href="stories/story.html" class="nav-item">
                    <img src="images/story.png" alt="Stories">
                    <span>Stories</span>
                </a>
            </div>
            <button class="theme-toggle" id="theme-toggle" title="Cambia tema">
                <span id="theme-icon">🌙</span>
            </button>
        </div>
    </nav>

    


    <div class="main-container">
        <div class="study-header">
            <h1 class="study-title">Irregular Verbs List</h1>
            <p class="study-subtitle"><strong>Explore and memorize all the main irregular verbs</strong></p>
            <div class="study-instructions">
            💡 Choose your level, then browse the complete list!
            </div>
            <div class="level-options" id="level-options">
                <label class="level-option">
                    <input type="radio" name="level" value="easy" onchange="filterVerbs()">
                    Easy (A2) - Ket Exam
                </label>
                <label class="level-option selected">
                    <input type="radio" name="level" value="medium" class="selected" onchange="filterVerbs()" checked>
                    Medium (B1) - Pet Exam
                </label>
                <label class="level-option">
                    <input type="radio" name="level" value="hard" onchange="filterVerbs()">
                    Hard (B2/C1) - First Exam
                </label>
            </div>
        </div>

        <div class="study-container" id="study">
            <table class="study-table">
                <thead>
                    <tr>
                        <th>Translation</th>
                        <th>Base Form</th>
                        <th>Simple Past</th>
                        <th>Past Participle</th>
                    </tr>
                </thead>
                <tbody>
                    <tr id="awake"><td>svegliarsi (stato)</td><td>awake</td><td>awoke</td><td>awoken</td></tr>
                <tr id="be"><td>essere</td><td>be</td><td>was - were</td><td>been</td></tr>
                <tr id="bear"><td>sopportare / sostenere</td><td>bear</td><td>bore</td><td>borne</td></tr>
                <tr id="beat"><td>battere / sconfiggere</td><td>beat</td><td>beat</td><td>beaten</td></tr>
                <tr id="become"><td>diventare</td><td>become</td><td>became</td><td>become</td></tr>
                <tr id="begin"><td>iniziare / cominciare</td><td>begin</td><td>began</td><td>begun</td></tr>
                <tr id="bend"><td>piegare</td><td>bend</td><td>bent</td><td>bent</td></tr>
                <tr id="bet"><td>scommettere</td><td>bet</td><td>bet</td><td>bet</td></tr>
                <tr id="bid"><td>fare un’offerta</td><td>bid</td><td>bid</td><td>bid</td></tr>
                <tr id="bind"><td>legare / bendare</td><td>bind</td><td>bound</td><td>bound</td></tr>
                <tr id="bite"><td>mordere</td><td>bite</td><td>bit</td><td>bitten</td></tr>
                <tr id="bleed"><td>sanguinare</td><td>bleed</td><td>bled</td><td>bled</td></tr>
                <tr id="blow"><td>soffiare</td><td>blow</td><td>blew</td><td>blown</td></tr>
                <tr id="break"><td>rompere</td><td>break</td><td>broke</td><td>broken</td></tr>
                <tr id="breed"><td>allevare</td><td>breed</td><td>bred</td><td>bred</td></tr>
                <tr id="bring"><td>portare</td><td>bring</td><td>brought</td><td>brought</td></tr>
                <tr id="broadcast"><td>trasmettere</td><td>broadcast</td><td>broadcast</td><td>broadcast</td></tr>
                <tr id="build"><td>costruire</td><td>build</td><td>built</td><td>built</td></tr>
                <tr id="burn"><td>bruciare</td><td>burn</td><td>burned / burnt</td><td>burned / burnt</td></tr>
                <tr id="burst"><td>esplodere</td><td>burst</td><td>burst</td><td>burst</td></tr>
                <tr id="buy"><td>comprare</td><td>buy</td><td>bought</td><td>bought</td></tr>
                <tr id="cast"><td>gettare</td><td>cast</td><td>cast</td><td>cast</td></tr>
                <tr id="catch"><td>prendere / afferrare</td><td>catch</td><td>caught</td><td>caught</td></tr>
                <tr id="choose"><td>scegliere</td><td>choose</td><td>chose</td><td>chosen</td></tr>
                <tr id="cling"><td>attaccarsi</td><td>cling</td><td>clung</td><td>clung</td></tr>
                <tr id="come"><td>venire</td><td>come</td><td>came</td><td>come</td></tr>
                <tr id="cost"><td>costare</td><td>cost</td><td>cost</td><td>cost</td></tr>
                <tr id="creep"><td>strisciare</td><td>creep</td><td>crept</td><td>crept</td></tr>
                <tr id="cut"><td>tagliare</td><td>cut</td><td>cut</td><td>cut</td></tr>
                <tr id="deal"><td>distribuire le carte</td><td>deal</td><td>dealt</td><td>dealt</td></tr>
                <tr id="dig"><td>scavare</td><td>dig</td><td>dug</td><td>dug</td></tr>
                <tr id="dive"><td>tuffarsi / immergersi</td><td>dive</td><td>dived / dove</td><td>dived</td></tr>
                <tr id="do"><td>fare/ agire</td><td>do</td><td>did</td><td>done</td></tr>
                <tr id="draw"><td>disegnare</td><td>draw</td><td>drew</td><td>drawn</td></tr>
                <tr id="dream"><td>sognare</td><td>dream</td><td>dreamed / dreamt</td><td>dreamed / dreamt</td></tr>
                <tr id="drink"><td>bere</td><td>drink</td><td>drank</td><td>drunk</td></tr>
                <tr id="drive"><td>guidare</td><td>drive</td><td>drove</td><td>driven</td></tr>
                <tr id="eat"><td>mangiare</td><td>eat</td><td>ate</td><td>eaten</td></tr>
                <tr id="fall"><td>cadere</td><td>fall</td><td>fell</td><td>fallen</td></tr>
                <tr id="feed"><td>nutrire</td><td>feed</td><td>fed</td><td>fed</td></tr>
                <tr id="feel"><td>sentire</td><td>feel</td><td>felt</td><td>felt</td></tr>
                <tr id="fight"><td>combattere / lottare</td><td>fight</td><td>fought</td><td>fought</td></tr>
                <tr id="find"><td>trovare / scoprire</td><td>find</td><td>found</td><td>found</td></tr>
                <tr id="fit"><td>calzare / addattarsi</td><td>fit</td><td>fitted / fit</td><td>fitted / fit</td></tr>
                <tr id="flee"><td>fuggire</td><td>flee</td><td>fled</td><td>fled</td></tr>
                <tr id="fling"><td>scagliare / lanciare</td><td>fling</td><td>flung</td><td>flung</td></tr>
                <tr id="fly"><td>volare</td><td>fly</td><td>flew</td><td>flown</td></tr>
                <tr id="forbid"><td>proibire / vietare</td><td>forbid</td><td>forbade</td><td>forbidden</td></tr>
                <tr id="forget"><td>dimenticare</td><td>forget</td><td>forgot</td><td>forgotten</td></tr>
                <tr id="forgive"><td>perdonare</td><td>forgive</td><td>forgave</td><td>forgiven</td></tr>
                <tr id="forsake"><td>abbandonare</td><td>forsake</td><td>forsook</td><td>forsaken</td></tr>
                <tr id="freeze"><td>congelare / gelare</td><td>freeze</td><td>froze</td><td>frozen</td></tr>
                <tr id="get"><td>ricevere / ottenere</td><td>get</td><td>got</td><td>got / gotten</td></tr>
                <tr id="give"><td>dare</td><td>give</td><td>gave</td><td>given</td></tr>
                <tr id="go"><td>andare</td><td>go</td><td>went</td><td>gone</td></tr>
                <tr id="grind"><td>macinare</td><td>grind</td><td>ground</td><td>ground</td></tr>
                <tr id="grow"><td>crescere / coltivare</td><td>grow</td><td>grew</td><td>grown</td></tr>
                <tr id="have"><td>avere</td><td>have</td><td>had</td><td>had</td></tr>
                <tr id="hang"><td>appendere</td><td>hang</td><td>hung</td><td>hung</td></tr>
                <tr id="hear"><td>sentire / udire</td><td>hear</td><td>heard</td><td>heard</td></tr>
                <tr id="hide"><td>nascondere</td><td>hide</td><td>hid</td><td>hidden</td></tr>
                <tr id="hit"><td>colpire</td><td>hit</td><td>hit</td><td>hit</td></tr>
                <tr id="hold"><td>stringere / tenere</td><td>hold</td><td>held</td><td>held</td></tr>
                <tr id="hurt"><td>far male / ferire</td><td>hurt</td><td>hurt</td><td>hurt</td></tr>
                <tr id="keep"><td>tenere / mantenere</td><td>keep</td><td>kept</td><td>kept</td></tr>
                <tr id="kneel"><td>inginocchiarsi</td><td>kneel</td><td>knelt / kneeled</td><td>knelt / kneeled</td></tr>
                <tr id="know"><td>sapere / conoscere</td><td>know</td><td>knew</td><td>known</td></tr>
                <tr id="lay"><td>stendere</td><td>lay</td><td>laid</td><td>laid</td></tr>
                <tr id="lead"><td>guidare / condurre</td><td>lead</td><td>led</td><td>led</td></tr>
                <tr id="learn"><td>imparare</td><td>learn</td><td>learned / learnt</td><td>learned / learnt</td></tr>
                <tr id="leave"><td>lasciare / partire</td><td>leave</td><td>left</td><td>left</td></tr>
                <tr id="lend"><td>prestare</td><td>lend</td><td>lent</td><td>lent</td></tr>
                <tr id="let"><td>permettere / lasciare</td><td>let</td><td>let</td><td>let</td></tr>
                <tr id="lie"><td>essere sdraiato</td><td>lie</td><td>lay</td><td>lain</td></tr>
                <tr id="light"><td>accendere / illuminare</td><td>light</td><td>lit / lighted</td><td>lit / lighted</td></tr>
                <tr id="lose"><td>perdere</td><td>lose</td><td>lost</td><td>lost</td></tr>
                <tr id="make"><td>fare /fabbricare</td><td>make</td><td>made</td><td>made</td></tr>
                <tr id="mean"><td>significare / intendere</td><td>mean</td><td>meant</td><td>meant</td></tr>
                <tr id="meet"><td>incontrare / incontrarsi</td><td>meet</td><td>met</td><td>met</td></tr>
                <tr id="misspell"><td>sbagliare a scrivere</td><td>misspell</td><td>misspelt / misspelled</td><td>misspelt / misspelled</td></tr>
                <tr id="mistake"><td>sbagliare</td><td>mistake</td><td>mistook</td><td>mistaken</td></tr>
                <tr id="overcome"><td>dominare</td><td>overcome</td><td>overcame</td><td>overcome</td></tr>
                <tr id="overtake"><td>sorpassare</td><td>overtake</td><td>overtook</td><td>overtaken</td></tr>
                <tr id="pay"><td>pagare</td><td>pay</td><td>paid</td><td>paid</td></tr>
                <tr id="plead"><td>dichiararsi</td><td>plead</td><td>pleaded / pled</td><td>pleaded / pled</td></tr>
                <tr id="prove"><td>provare</td><td>prove</td><td>proved</td><td>proved / proven</td></tr>
                <tr id="put"><td>mettere</td><td>put</td><td>put</td><td>put</td></tr>
                <tr id="quit"><td>smettere / abbandonare</td><td>quit</td><td>quit</td><td>quit</td></tr>
                <tr id="read"><td>leggere</td><td>read</td><td>read</td><td>read</td></tr>
                <tr id="ride"><td>cavalcare</td><td>ride</td><td>rode</td><td>ridden</td></tr>
                <tr id="ring"><td>squillare</td><td>ring</td><td>rang</td><td>rung</td></tr>
                <tr id="rise"><td>aumentare / sorgere</td><td>rise</td><td>rose</td><td>risen</td></tr>
                <tr id="run"><td>correre</td><td>run</td><td>ran</td><td>run</td></tr>
                <tr id="say"><td>dire</td><td>say</td><td>said</td><td>said</td></tr>
                <tr id="see"><td>vedere</td><td>see</td><td>saw</td><td>seen</td></tr>
                <tr id="seek"><td>cercare</td><td>seek</td><td>sought</td><td>sought</td></tr>
                <tr id="sell"><td>vendere</td><td>sell</td><td>sold</td><td>sold</td></tr>
                <tr id="send"><td>mandare / spedire</td><td>send</td><td>sent</td><td>sent</td></tr>
                <tr id="set"><td>impostare / mettere</td><td>set</td><td>set</td><td>set</td></tr>
                <tr id="sew"><td>cucire</td><td>sew</td><td>sewed</td><td>sewed / sewn</td></tr>
                <tr id="shake"><td>agitare / scuotere</td><td>shake</td><td>shook</td><td>shaken</td></tr>
                <tr id="shine"><td>brillare / risplendere</td><td>shine</td><td>shone</td><td>shone</td></tr>
                <tr id="shoe"><td>ferrare</td><td>shoe</td><td>shod</td><td>shod</td></tr>
                <tr id="shoot"><td>sparare</td><td>shoot</td><td>shot</td><td>shot</td></tr>
                <tr id="show"><td>mostrare / esibire</td><td>show</td><td>showed</td><td>shown</td></tr>
                <tr id="shrink"><td>restringersi</td><td>shrink</td><td>shrank</td><td>shrunk</td></tr>
                <tr id="shut"><td>chiudere</td><td>shut</td><td>shut</td><td>shut</td></tr>
                <tr id="sing"><td>cantare</td><td>sing</td><td>sang</td><td>sung</td></tr>
                <tr id="sink"><td>affondare</td><td>sink</td><td>sank</td><td>sunk</td></tr>
                <tr id="sit"><td>sedersi / sedere</td><td>sit</td><td>sat</td><td>sat</td></tr>
                <tr id="sleep"><td>dormire</td><td>sleep</td><td>slept</td><td>slept</td></tr>
                <tr id="smell"><td>odorare / annusare</td><td>smell</td><td>smelled / smelt</td><td>smelled / smelt</td></tr>
                <tr id="slide"><td>scorrere / scivolare</td><td>slide</td><td>slid</td><td>slid</td></tr>
                <tr id="speak"><td>parlare</td><td>speak</td><td>spoke</td><td>spoken</td></tr>
                <tr id="speed"><td>andare veloce / accelerare</td><td>speed</td><td>sped</td><td>sped</td></tr>
                <tr id="spell"><td>sillabare</td><td>spell</td><td>spelled / spelt</td><td>spelled / spelt</td></tr>
                <tr id="spend"><td>spendere</td><td>spend</td><td>spent</td><td>spent</td></tr>
                <tr id="spill"><td>versare / rovesciare</td><td>spill</td><td>spilt / spilled</td><td>spilt / spilled</td></tr>
                <tr id="spit"><td>sputare</td><td>spit</td><td>spat</td><td>spat</td></tr>
                <tr id="spoil"><td>rovinare / viziare</td><td>spoil</td><td>spoilt / spoiled</td><td>spoilt/spoiled</td></tr>
                <tr id="spread"><td>diffondere</td><td>spread</td><td>spread</td><td>spread</td></tr>
                <tr id="spring"><td>saltare</td><td>spring</td><td>sprang</td><td>sprung</td></tr>
                <tr id="stand"><td>alzarsi / stare in piedi</td><td>stand</td><td>stood</td><td>stood</td></tr>
                <tr id="steal"><td>rubare</td><td>steal</td><td>stole</td><td>stolen</td></tr>
                <tr id="stick"><td>incollare</td><td>stick</td><td>stuck</td><td>stuck</td></tr>
                <tr id="sting"><td>pungere</td><td>sting</td><td>stung</td><td>stung</td></tr>
                <tr id="stink"><td>puzzare</td><td>stink</td><td>stank</td><td>stunk</td></tr>
                <tr id="strike"><td>colpire / battere</td><td>strike</td><td>struck</td><td>struck</td></tr>
                <tr id="swear"><td>giurare</td><td>swear</td><td>swore</td><td>sworn</td></tr>
                <tr id="sweep"><td>spazzare</td><td>sweep</td><td>swept / sweeped</td><td>swept / sweeped</td></tr>
                <tr id="swim"><td>nuotare</td><td>swim</td><td>swam</td><td>swum</td></tr>
                <tr id="swing"><td>oscillare</td><td>swing</td><td>swang</td><td>swung</td></tr>
                <tr id="take"><td>prendere</td><td>take</td><td>took</td><td>taken</td></tr>
                <tr id="teach"><td>insegnare</td><td>teach</td><td>taught</td><td>taught</td></tr>
                <tr id="tear"><td>strappare</td><td>tear</td><td>tore</td><td>torn</td></tr>
                <tr id="tell"><td>raccontare</td><td>tell</td><td>told</td><td>told</td></tr>
                <tr id="think"><td>pensare</td><td>think</td><td>thought</td><td>thought</td></tr>
                <tr id="throw"><td>tirare / lanciare</td><td>throw</td><td>threw</td><td>thrown</td></tr>
                <tr id="thrust"><td>spingere</td><td>thrust</td><td>thrust</td><td>thrust</td></tr>
                <tr id="tread"><td>calpestare</td><td>tread</td><td>trod</td><td>trodden</td></tr>
                <tr id="understand"><td>capire</td><td>understand</td><td>understood</td><td>understood</td></tr>
                <tr id="upset"><td>turbare / arrabbiare</td><td>upset</td><td>upset</td><td>upset</td></tr>
                <tr id="wake"><td>svegliare / svegliarsi</td><td>wake</td><td>woke</td><td>woken</td></tr>
                <tr id="wear"><td>indossare</td><td>wear</td><td>wore</td><td>worn</td></tr>
                <tr id="weave"><td>intrecciare</td><td>weave</td><td>wove</td><td>woven</td></tr>
                <tr id="weep"><td>piangere</td><td>weep</td><td>wept</td><td>wept</td></tr>
                <tr id="win"><td>vincere</td><td>win</td><td>won</td><td>won</td></tr>
                <tr id="wind"><td>avvolgere</td><td>wind</td><td>wound</td><td>wound</td></tr>
                <tr id="wring"><td>torcere/ strizzare</td><td>wring</td><td>wrung</td><td>wrung</td></tr>
                <tr id="write"><td>scrivere</td><td>write</td><td>wrote</td><td>written</td></tr>

            </table>
        </div>    
    </div>

    <script>
        // Theme Management System - da aggiungere prima dello script filterVerbs esistente
        const THEME_CONFIG = {
            cookieName: 'site_theme',
            expirationDays: 365,
            themes: {
                light: {
                    name: 'light',
                    icon: '🌙',
                    title: 'Attiva tema scuro'
                },
                dark: {
                    name: 'dark',
                    icon: '☀️',
                    title: 'Attiva tema chiaro'
                }
            }
        };

        // Icon mapping for theme switching
        const ICON_MAPPING = {
            light: {
                'images/home.png': 'images/home.png',
                'images/learn.png': 'images/learn.png',
                'images/train.png': 'images/train.png',
                'images/test.png': 'images/test.png',
                'images/story.png': 'images/story.png'
            },
            dark: {
                'images/home.png': 'images/home1.png',
                'images/learn.png': 'images/learn1.png',
                'images/train.png': 'images/train1.png',
                'images/test.png': 'images/test1.png',
                'images/story.png': 'images/story1.png'
            }
        };

        // Utility functions per gestire i cookie
        function setThemeCookie(name, value, days) {
            let expires = "";
            if (days) {
                let date = new Date();
                date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));
                expires = "; expires=" + date.toUTCString();
            }
            
            let cookieString = `${name}=${value}${expires}; path=/`;
            document.cookie = cookieString;
            console.log(`Theme cookie impostato: ${name}=${value}`);
        }

        function getThemeCookie(name) {
            const value = "; " + document.cookie;
            const parts = value.split("; " + name + "=");
            if (parts.length === 2) {
                const cookieValue = parts.pop().split(";").shift();
                console.log(`Theme cookie letto: ${name}=${cookieValue}`);
                return cookieValue;
            }
            return null;
        }

        // Fallback per localStorage in ambiente locale
        function setLocalTheme(value) {
            if (typeof(Storage) !== "undefined") {
                localStorage.setItem('local_site_theme', value);
                console.log(`LocalStorage theme impostato: ${value}`);
            }
        }

        function getLocalTheme() {
            if (typeof(Storage) !== "undefined") {
                const value = localStorage.getItem('local_site_theme');
                console.log(`LocalStorage theme letto: ${value}`);
                return value;
            }
            return null;
        }

        // Funzione per cambiare le icone della navbar
        function updateNavIcons(theme) {
            const navIcons = document.querySelectorAll('.nav-item img');
            navIcons.forEach(icon => {
                const currentSrc = icon.src;
                const filename = currentSrc.split('/').pop();
                const basePath = currentSrc.substring(0, currentSrc.lastIndexOf('/') + 1);
                
                // Trova la mappatura corretta
                for (const [lightIcon, darkIcon] of Object.entries(ICON_MAPPING.dark)) {
                    const lightFilename = lightIcon.split('/').pop();
                    const darkFilename = darkIcon.split('/').pop();
                    
                    if (theme === 'dark' && filename === lightFilename) {
                        icon.src = basePath + darkFilename;
                        break;
                    } else if (theme === 'light' && filename === darkFilename) {
                        icon.src = basePath + lightFilename;
                        break;
                    }
                }
            });
        }

        // Funzione per applicare il tema
        function applyTheme(themeName) {
            const html = document.documentElement;
            const themeToggle = document.getElementById('theme-toggle');
            const themeIcon = document.getElementById('theme-icon');
            
            // Applica o rimuove l'attributo data-theme
            if (themeName === 'dark') {
                html.setAttribute('data-theme', 'dark');
            } else {
                html.removeAttribute('data-theme');
                themeName = 'light';
            }
            
            // Aggiorna l'icona e il tooltip del bottone
            const currentTheme = THEME_CONFIG.themes[themeName];
            if (themeIcon && currentTheme) {
                themeIcon.textContent = currentTheme.icon;
                themeToggle.title = currentTheme.title;
            }
            
            // Aggiorna le icone della navbar
            updateNavIcons(themeName);
            
            console.log(`Tema applicato: ${themeName}`);
        }

        function getCurrentTheme() {
            // Prima fonte: attributo data-theme nel DOM
            const domTheme = document.documentElement.getAttribute('data-theme');
            if (domTheme) {
                console.log(`getCurrentTheme -> datasource: DOM, theme=${domTheme}`);
                return domTheme;
            }

            // Altrimenti prova il cookie
            let theme = getThemeCookie(THEME_CONFIG.cookieName);
            if (theme) {
                console.log(`getCurrentTheme -> datasource: cookie, theme=${theme}`);
                return theme;
            }

            // Fallback per ambiente locale: localStorage
            if (window.location.hostname === 'localhost' || window.location.hostname === '127.0.0.1') {
                const local = getLocalTheme();
                if (local) {
                    console.log(`getCurrentTheme -> datasource: localStorage, theme=${local}`);
                    return local;
                }
            }

            // Default
            console.log('getCurrentTheme -> default: light');
            return 'light';
        }

        function toggleTheme() {
            const currentTheme = getCurrentTheme();
            const newTheme = currentTheme === 'light' ? 'dark' : 'light';

            console.log(`Cambio tema da ${currentTheme} a ${newTheme}`);

            // Applica subito il tema al DOM
            applyTheme(newTheme);

            // Salva la scelta
            saveTheme(newTheme);
        }

        // Funzione per salvare il tema
        function saveTheme(theme) {
            setThemeCookie(THEME_CONFIG.cookieName, theme, THEME_CONFIG.expirationDays);
            
            // Fallback per localhost
            if (window.location.hostname === 'localhost' || window.location.hostname === '127.0.0.1') {
                setLocalTheme(theme);
            }
            
            // Notifica altre schede del cambiamento
            if (typeof(Storage) !== "undefined") {
                localStorage.setItem('theme_changed', Date.now().toString());
            }
        }

        // Funzione per sincronizzare tra schede
        function setupThemeCrossTabSync() {
            if (typeof(Storage) !== "undefined") {
                window.addEventListener('storage', function(e) {
                    if (e.key === 'theme_changed') {
                        console.log("Tema cambiato in altra scheda - aggiorno");
                        const currentTheme = getCurrentTheme();
                        applyTheme(currentTheme);
                    }
                });
            }
        }

        // Funzione di inizializzazione del sistema tema
        function initializeThemeSystem() {
            console.log("Inizializzazione sistema tema");
            
            // Applica il tema salvato
            const savedTheme = getCurrentTheme();
            console.log("Tema salvato trovato:", savedTheme);
            applyTheme(savedTheme);
            
            // Configura il toggle button
            setTimeout(() => {
                const themeToggle = document.getElementById('theme-toggle');
                const themeIcon = document.getElementById('theme-icon');
                
                console.log("Cercando elementi tema...");
                console.log("Theme toggle trovato:", !!themeToggle);
                console.log("Theme icon trovato:", !!themeIcon);
                
                if (themeToggle) {
                    // Rimuovi eventuali listener esistenti
                    themeToggle.removeEventListener('click', toggleTheme);
                    
                    // Aggiungi il nuovo listener
                    themeToggle.addEventListener('click', function(e) {
                        e.preventDefault();
                        console.log("Click sul toggle tema!");
                        toggleTheme();
                    });
                    
                    console.log("Event listener tema configurato correttamente");
                } else {
                    console.error("Elemento theme-toggle non trovato!");
                }
            }, 100);
            
            // Configura sincronizzazione tra schede
            setupThemeCrossTabSync();
            
            console.log("Sistema tema inizializzato con tema:", savedTheme);
        }

        // Rendi disponibili le funzioni debug globalmente
        window.getCurrentTheme = getCurrentTheme;
        window.toggleTheme = toggleTheme;

        // Inizializza il sistema tema quando il DOM è pronto
        document.addEventListener('DOMContentLoaded', function() {
            console.log("DOM loaded - inizializzo sistema tema");
            initializeThemeSystem();
        });
        
        // Fallback se il DOM è già caricato
        if (document.readyState !== 'loading') {
            console.log("DOM già caricato - inizializzo sistema tema");
            initializeThemeSystem();
        }

        function filterVerbs() {
            let level = document.querySelector('input[name="level"]:checked').value;
            let rows = document.querySelectorAll("table tr");

            // Update level option styling
            document.querySelectorAll('.level-option').forEach(option => {
                option.classList.remove('selected');
            });
            document.querySelector(`input[value="${level}"]`).closest('.level-option').classList.add('selected');

            rows.forEach((row, index) => {
                if (index === 0) return; // Skip header row
                row.style.display = "none"; // Hide all rows initially
            });
            
            let verbs = []; // Declare the variable once

            if (level === "easy") {
                verbs = [
                            "be", "become", "begin", "break", "bring", "build", "burn", "buy", "catch", "choose",
                            "come", "cut", "do", "draw", "dream", "drink", "drive", "eat", "fall", "feel",
                            "find", "forget", "get", "give", "go", "grow", "have", "hear", "hit", "hurt",
                            "keep", "know", "learn", "leave", "let", "lose", "make", "meet", "pay", "put",
                            "read", "ride", "run", "say", "see", "sell", "send", "sing", "sit", "sleep",
                            "speak", "spend", "stand", "swim", "take", "teach", "tell", "think", "understand",
                            "wake", "wear", "win", "write"
                ];
            } else if (level === "medium") {
                verbs = [
                            "be", "beat", "become", "begin", "bend", "bite", "blow", "break", "bring", "build", "burn", "buy",
                            "catch", "choose", "come", "cost", "cut", "deal", "dig", "do", "draw", "dream", "drink", "drive", "eat",
                            "fall", "feed", "feel", "fight", "find", "fly", "forbid", "forget", "forgive", "freeze", "get", "give",
                            "go", "grow", "hang", "have", "hear", "hide", "hit", "hold", "hurt", "keep", "kneel", "know", "lay", "lead",
                            "learn", "leave", "lend", "let", "lie", "light", "lose", "make", "mean", "meet", "pay", "put", "read",
                            "ride", "ring", "rise", "run", "say", "see", "sell", "send", "set", "sew", "shake", "shine", "shoot",
                            "show", "shut", "sing", "sink", "sit", "sleep", "smell", "speak", "spell", "spend", "spoil", "stand",
                            "steal", "stick", "strike", "sweep", "swim", "swing", "take", "teach", "tear", "tell", "think", "throw",
                            "understand", "wake", "wear", "win", "write"
                ];
            } else if (level === "hard") {
                verbs = [
                            "awake", "be", "bear", "beat", "become", "begin", "bend", "bet", "bid", "bind",
                            "bite", "bleed", "blow", "break", "breed", "bring", "broadcast", "build", "burn", "burst",
                            "buy", "cast", "catch", "choose", "cling", "come", "cost", "creep", "cut", "deal",
                            "dig", "dive", "do", "draw", "dream", "drink", "drive", "eat", "fall", "feed",
                            "feel", "fight", "find", "fit", "flee", "fling", "fly", "forbid", "forget", "forgive",
                            "forsake", "freeze", "get", "give", "go", "grind", "grow", "have", "hang", "hear",
                            "hide", "hit", "hold", "hurt", "keep", "kneel", "know", "lay", "lead", "learn",
                            "leave", "lend", "let", "lie", "light", "lose", "make", "mean", "meet", "misspell",
                            "mistake", "overcome", "overtake", "pay", "plead", "prove", "put", "quit", "read", "ride",
                            "ring", "rise", "run", "say", "see", "seek", "sell", "send", "set", "sew",
                            "shake", "shine", "shoe", "shoot", "show", "shrink", "shut", "sing", "sink", "sit",
                            "sleep", "smell", "slide", "speak", "speed", "spell", "spend", "spill", "spit", "spoil",
                            "spread", "spring", "stand", "steal", "stick", "sting", "stink", "strike", "swear", "sweep",
                            "swim", "swing", "take", "teach", "tear", "tell", "think", "throw", "thrust", "tread",
                            "understand", "upset", "wake", "wear", "weave", "weep", "win", "wind", "wring", "write"
                ];
            } 

            let visibleRows = []; // Array to hold visible rows

            verbs.forEach(id => {
                let row = document.getElementById(id);
                if (row) {
                    row.style.display = "table-row"; // Show the row
                    visibleRows.push(row);
                }
            });

            // Assign classes for alternating colors
            visibleRows.forEach((row, index) => {
                row.classList.remove("even", "odd");
                if (index % 2 === 0) {
                    row.classList.add("even");
                } else {
                    row.classList.add("odd");
                }
            });
            
        }
        // Call filterVerbs on page load to apply initial styling
        window.addEventListener('DOMContentLoaded', function() {
            filterVerbs();
        });
    </script>
    <!-- Cookie Banner - Sostituisci il div esistente con questo -->
    <div id="cookie-banner" style="
        position: fixed;
        top: 0; left: 0; right: 0; bottom: 0;
        background: rgba(0, 0, 0, 0.7);
        display: none;
        z-index: 9999;
        justify-content: center;
        align-items: center;
        backdrop-filter: blur(3px);
    ">
        <div style="
            background: #fff;
            padding: 2rem;
            border-radius: 12px;
            max-width: 500px;
            margin: 1rem;
            text-align: center;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
            animation: slideIn 0.3s ease-out;
        ">
            <h3 style="margin: 0 0 1rem 0; color: #333; font-size: 1.2em;">
                🍪 Informativa Cookie
            </h3>
            <p style="margin-bottom: 1.5rem; color: #666; line-height: 1.5;">
                Utilizziamo i cookie per personalizzare gli annunci e misurare il traffico. 
                I tuoi dati sono sicuri e rispettiamo la tua privacy.
                <br>
                <a href="/privacy.html" target="_blank" style="color: #2563eb; text-decoration: underline;">
                    Scopri di più
                </a>
            </p>
            <div style="display: flex; justify-content: center; gap: 1rem; flex-wrap: wrap;">
                <button id="accept-cookies" style="
                    padding: 0.75rem 1.5rem; 
                    background: linear-gradient(135deg, #10b981, #059669); 
                    color: white; 
                    border: none; 
                    border-radius: 8px; 
                    cursor: pointer;
                    font-weight: 600;
                    transition: transform 0.2s, box-shadow 0.2s;
                    box-shadow: 0 2px 8px rgba(16, 185, 129, 0.3);
                " onmouseover="this.style.transform='translateY(-1px)'; this.style.boxShadow='0 4px 12px rgba(16, 185, 129, 0.4)'" 
                onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='0 2px 8px rgba(16, 185, 129, 0.3)'">
                    ✓ Accetta e Impara
                </button>
                <button id="reject-cookies" style="
                    padding: 0.75rem 1.5rem; 
                    background: #6b7280; 
                    color: white; 
                    border: none; 
                    border-radius: 8px; 
                    cursor: pointer;
                    font-weight: 600;
                    transition: background 0.2s;
                " onmouseover="this.style.background='#4b5563'" onmouseout="this.style.background='#6b7280'">
                    ✗ Rifiuta
                </button>
            </div>
            <p style="margin-top: 1rem; font-size: 0.8em; color: #9ca3af;">
                La tua scelta verrà ricordata per tutte le pagine del sito
            </p>
        </div>
    </div>

    <style>
    @keyframes slideIn {
        from {
            opacity: 0;
            transform: translateY(-20px) scale(0.95);
        }
        to {
            opacity: 1;
            transform: translateY(0) scale(1);
        }
    }

    /* Responsive per il banner cookie */
    @media (max-width: 480px) {
        #cookie-banner > div {
            margin: 0.5rem;
            padding: 1.5rem;
        }
        
        #cookie-banner h3 {
            font-size: 1.1em;
        }
        
        #cookie-banner button {
            width: 100%;
            margin-bottom: 0.5rem;
        }
        
        #cookie-banner > div > div {
            flex-direction: column;
        }
    }
    </style>



    <footer style="text-align: center; margin-top: 2rem; font-size: 0.9em;">
        <p>© 2025 LearnWithMe - All rights reserved</p>
        <p><a href="privacy.html">Privacy & Cookie Policy</a></p>
    </footer>
    <script>
        // Cookie Consent Manager - Codice da utilizzare su tutte le pagine
        // Sostituisci il codice JavaScript esistente con questo

        // Configurazione
        const COOKIE_CONFIG = {
            consentCookieName: 'cookie_consent',
            expirationDays: 365,
            // Per localhost non impostiamo domain, per domini reali sì
            domain: (window.location.hostname === 'localhost' || window.location.hostname === '127.0.0.1') ? null : window.location.hostname,
            adsClientId: 'ca-pub-8624143381240320' // Il tuo client ID reale
        };

        // Utility functions per gestire i cookie
        function setCookie(name, value, days, domain = null) {
            let expires = "";
            if (days) {
                let date = new Date();
                date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));
                expires = "; expires=" + date.toUTCString();
            }
            
            // Per localhost usiamo un approccio più semplice
            let cookieString = `${name}=${value}${expires}; path=/`;
            
            // Solo per domini reali (non localhost) aggiungiamo domain e SameSite
            if (domain && !window.location.hostname.includes('localhost') && !window.location.hostname.includes('127.0.0.1')) {
                cookieString += `; domain=${domain}; SameSite=Lax`;
            }
            
            document.cookie = cookieString;
            console.log(`Cookie impostato: ${name}=${value} su ${window.location.hostname}`);
            console.log(`Stringa cookie completa: ${cookieString}`);
        }

        function getCookie(name) {
            const value = "; " + document.cookie;
            const parts = value.split("; " + name + "=");
            if (parts.length === 2) {
                const cookieValue = parts.pop().split(";").shift();
                console.log(`Cookie letto: ${name}=${cookieValue}`);
                return cookieValue;
            }
            console.log(`Cookie non trovato: ${name}`);
            return null;
        }

        function deleteCookie(name, domain = null) {
            // Prova più varianti per essere sicuri di eliminare il cookie
            const paths = ['/', ''];
            const domains = domain ? [domain, `.${domain}`, ''] : [''];
            
            paths.forEach(path => {
                domains.forEach(dom => {
                    let cookieString = `${name}=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=${path};`;
                    if (dom && !window.location.hostname.includes('localhost')) {
                        cookieString += ` domain=${dom};`;
                    }
                    document.cookie = cookieString;
                });
            });
            
            console.log(`Cookie eliminato: ${name}`);
        }

        // Funzione per caricare Google Ads
        function loadGoogleAds() {
            // Verifica se gli ads sono già stati caricati
            if (window.adsLoaded) {
                console.log("Google Ads già caricati");
                return;
            }
            
            // In localhost non carichiamo gli ads reali
            if (location.hostname === "localhost" || location.hostname === "127.0.0.1" || location.hostname.includes('file://')) {
                console.log("Ambiente locale - simulo caricamento Google Ads");
                window.adsLoaded = true;
                return;
            }
            
            if (location.hostname === "learnwithme.work") {
                try {
                    var adsScript = document.createElement('script');
                    adsScript.src = `https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=${COOKIE_CONFIG.adsClientId}`;
                    adsScript.setAttribute("crossorigin", "anonymous");
                    adsScript.async = true;
                    adsScript.onload = function() {
                        window.adsLoaded = true;
                        console.log("Google Ads caricati con successo");
                    };
                    adsScript.onerror = function() {
                        console.error("Errore nel caricamento di Google Ads");
                    };
                    document.head.appendChild(adsScript);
                } catch (error) {
                    console.error("Errore durante l'inizializzazione di Google Ads:", error);
                }
            } else {
                console.log("Google Ads non caricati (ambiente di sviluppo)");
            }
        }

        // Funzioni per gestire il banner
        function showCookieBanner() {
            const banner = document.getElementById('cookie-banner');
            if (banner) {
                banner.style.display = 'flex';
                document.body.style.overflow = 'hidden';
                console.log("Banner cookie mostrato");
            }
        }

        function hideCookieBanner() {
            const banner = document.getElementById('cookie-banner');
            if (banner) {
                banner.style.display = 'none';
                document.body.style.overflow = '';
                console.log("Banner cookie nascosto");
            }
        }

        // Fallback per localStorage in ambiente locale
        function setLocalConsent(value) {
            if (typeof(Storage) !== "undefined") {
                localStorage.setItem('local_cookie_consent', value);
                console.log(`LocalStorage consent impostato: ${value}`);
            }
        }

        function getLocalConsent() {
            if (typeof(Storage) !== "undefined") {
                const value = localStorage.getItem('local_cookie_consent');
                console.log(`LocalStorage consent letto: ${value}`);
                return value;
            }
            return null;
        }

        // Funzione principale per gestire il consenso
        function handleCookieConsent() {
            let consent = getCookie(COOKIE_CONFIG.consentCookieName);
            
            // Se siamo in localhost e non troviamo cookie, prova localStorage
            if (!consent && (window.location.hostname === 'localhost' || window.location.hostname === '127.0.0.1')) {
                consent = getLocalConsent();
                console.log("Localhost: usando localStorage per consenso:", consent);
            }
            
            console.log("Stato consenso finale:", consent);
            
            if (consent === "accepted") {
                console.log("Consenso già dato - caricamento Google Ads");
                loadGoogleAds();
                hideCookieBanner();
            } else if (consent === "rejected") {
                console.log("Consenso rifiutato - nessun ads");
                hideCookieBanner();
            } else {
                console.log("Nessun consenso trovato - mostra banner");
                showCookieBanner();
            }
        }

        // Funzione per accettare i cookie
        function acceptCookies() {
            console.log("Utente ha accettato i cookie");
            setCookie(COOKIE_CONFIG.consentCookieName, "accepted", COOKIE_CONFIG.expirationDays, COOKIE_CONFIG.domain);
            
            // Fallback per localhost
            if (window.location.hostname === 'localhost' || window.location.hostname === '127.0.0.1') {
                setLocalConsent("accepted");
            }
            
            hideCookieBanner();
            loadGoogleAds();
            
            // Notifica altre schede aperte del cambiamento
            if (typeof(Storage) !== "undefined") {
                localStorage.setItem('cookie_consent_changed', Date.now().toString());
            }
        }

        // Funzione per rifiutare i cookie
        function rejectCookies() {
            console.log("Utente ha rifiutato i cookie");
            setCookie(COOKIE_CONFIG.consentCookieName, "rejected", COOKIE_CONFIG.expirationDays, COOKIE_CONFIG.domain);
            
            // Fallback per localhost
            if (window.location.hostname === 'localhost' || window.location.hostname === '127.0.0.1') {
                setLocalConsent("rejected");
            }
            
            hideCookieBanner();
            
            // Notifica altre schede aperte del cambiamento
            if (typeof(Storage) !== "undefined") {
                localStorage.setItem('cookie_consent_changed', Date.now().toString());
            }
        }

        // Listener per cambiamenti di consenso in altre schede
        function setupCrossTabSync() {
            if (typeof(Storage) !== "undefined") {
                window.addEventListener('storage', function(e) {
                    if (e.key === 'cookie_consent_changed') {
                        console.log("Consenso cookie cambiato in altra scheda - aggiorno");
                        handleCookieConsent();
                    }
                });
            }
        }

        // Inizializzazione quando il DOM è pronto
        function initializeCookieConsent() {
            console.log("Inizializzazione gestione cookie consent");
            
            // Gestisci il consenso esistente
            handleCookieConsent();
            
            // Configura la sincronizzazione tra schede
            setupCrossTabSync();
            
            // Aggiungi event listeners ai pulsanti
            const acceptButton = document.getElementById("accept-cookies");
            if (acceptButton) {
                acceptButton.addEventListener("click", acceptCookies);
            }
            
            const rejectButton = document.getElementById("reject-cookies");
            if (rejectButton) {
                rejectButton.addEventListener("click", rejectCookies);
            }
            
            console.log("Gestione cookie consent inizializzata");
        }

        // Debug function - rimuovi in produzione
        function debugCookies() {
            console.log("=== DEBUG COOKIES ===");
            console.log("Hostname:", location.hostname);
            console.log("Tutti i cookie:", document.cookie);
            console.log("Consenso corrente:", getCookie(COOKIE_CONFIG.consentCookieName));
            console.log("Domain config:", COOKIE_CONFIG.domain);
            console.log("Ads caricati:", window.adsLoaded || false);
            console.log("localStorage consent:", localStorage.getItem('cookie_consent_changed'));
            
            // Test manuale cookie
            console.log("--- TEST COOKIE ---");
            setCookie('test_cookie', 'test_value', 1, COOKIE_CONFIG.domain);
            console.log("Cookie test impostato:", getCookie('test_cookie'));
            deleteCookie('test_cookie', COOKIE_CONFIG.domain);
            console.log("Cookie test dopo eliminazione:", getCookie('test_cookie'));
            console.log("====================");
        }

        // Funzione per resettare i cookie (utile per test)
        function resetCookieConsent() {
            deleteCookie(COOKIE_CONFIG.consentCookieName, COOKIE_CONFIG.domain);
            if (typeof(Storage) !== "undefined") {
                localStorage.removeItem('cookie_consent_changed');
                localStorage.removeItem('local_cookie_consent'); // Rimuovi anche il fallback localStorage
            }
            window.adsLoaded = false;
            console.log("Consenso cookie resettato completamente");
            location.reload();
        }

        // Avvia l'inizializzazione quando il DOM è pronto
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', initializeCookieConsent);
        } else {
            initializeCookieConsent();
        }

        // Rendi disponibili le funzioni debug globalmente (rimuovi in produzione)
        window.debugCookies = debugCookies;
        window.resetCookieConsent = resetCookieConsent;
    </script>


</body>
</html>